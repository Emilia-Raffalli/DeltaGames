{% extends 'base.html.twig' %}

{% block title %}
    {% if app.request.attributes.get('_route') == 'app_won' %}
        {{ pageTitle.app_won }} 
    {% elseif app.request.attributes.get('_route') == 'app_lost' %}
        {{ pageTitle.app_lost }}
    {% elseif app.request.attributes.get('_route') == 'app_answers' %}
        {{ pageTitle.app_answers }}
    {% endif %}
{% endblock %}

{% block body %}
<body>
    {% include "_partials/_translation.html.twig" %}
    <div class= "mx-3 mx-md-5 mx-lg-5">

        <div class="d-flex flex-column justify-content-center mt-3 mt-sm-3 mb-3 mt-lg-0 align-items-center">

{# ROUTE WON #}  
            {% if app.request.attributes.get('_route') == 'app_won' %}
                <div class="row d-flex justify-content-center mb-3">
                    <div class="col-12 ">
                        <div class="first d-flex flex-column justify-content-center height-less">
                                <h3 class="col-lg-6 text-primary text-center fw-bold" data-aos="zoom-in-down">
                                    {{ 'winner-sentence'|trans|raw }}
                                </h3>
                                <p class="col-lg-8 col-md-9 sub-header quiz text-primary m-0">
                                    {{ 'winner-text'|trans|raw }}
                                </p>
                        </div>
                    </div>
                </div>

                {{ form_start(form, {'attr': {'class': 'row d-flex flex-column align-items-center justify-content-center g-3 mx-auto mb-1 mt-1 mt-lg-0'}}) }}
                            <div class="col-12 col-md-8 col-lg-6">
                                <div class="text-box d-flex flex-column justify-content-center align-items-center shadow">
                                    <div class="row g-3 p-4 p-lg-4 text-start gy-4 align-items-center">
                                        <div class="col-md-6">
                                            {{ form_row(form.firstName) }}
                                        </div>
                                        <div class="col-md-6">
                                            {{ form_row(form.lastName) }}
                                        </div>
                                        <div class="col-md-12">
                                            {{ form_row(form.email) }}
                                        </div>
                                        <div class="col-12">
                                            {{ form_row(form.adress) }}
                                        </div>
                                        <div class="col-12">
                                            {{ form_row(form.adress2) }}
                                        </div>
                                        <div class="col-md-6">
                                            {{ form_row(form.zipCode) }}
                                        </div>
                                        <div class="col-md-6">
                                            {{ form_row(form.city) }}
                                        </div>
                                        <div class="col-md-12">
                                            {{ form_row(form.country) }}
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 col-md-8 col-lg-6 mt-4 mb-5 d-flex justify-content-center">
                                {{ form_widget(form.submit) }}
                            </div>

                            {# {{ form_row(form.submit, {'attr': {'class': 'col-12 mt-4 mt-lg-5 mb-5 d-flex justify-content-center'}}) }} #}


                {{ form_end(form)}}

{# ROUTE LOST #}

            {% elseif app.request.attributes.get('_route') == 'app_lost' %}
                <div class="row d-flex justify-content-center mx-auto">
                    <div class="col-12">
                        <div class="first-bummer d-flex flex-column justify-content-center">
                                <h3 class="text-primary text-center fw-bold" data-aos="zoom-in-down">
                                    {{ 'non-winner-sentence'|trans|raw }}
                                </h3>
                                <p class="sub-header quiz text-primary m-0">
                                    {{ 'non-winner-sub'|trans|raw }}
                                </p>
                        </div>
                    </div>
                </div>
                <div class="row d-flex justify-content-center mx-auto mb-3 mt-3 mt-lg-0">
                    <div class="col-12 col-md-8 col-lg-5 text-box fly_box d-flex flex-column justify-content-center align-items-center shadow">
                        <p class="results p-4 fw-bold text-center text-primary m-0">
                            {{ 'non-winner-text'|trans|raw }}
                        </p>
                    </div>
                </div>
                <div class="col-12 mt-4 mb-3 mb-lg-5 d-flex justify-content-center">
                    <a href="{{ path('app_answers') }}" class="btn-delta col-12 col-md-8 col-lg-4">{{ 'action-buttons.check-correct-answers'|trans|raw }}</a>
                </div>

{# ROUTE ANSWERS #}  

            {% elseif app.request.attributes.get('_route') == 'app_answers' %}
                <div class="row d-flex justify-content-center mb-3">
                    <div class="col-12 ">
                        <div class="first d-flex flex-column justify-content-center height-less">
                                <h3 class="col-lg-6 col-md-9 text-primary text-center fw-bold" data-aos="zoom-in-down">
                                    {{ 'summary-answers'|trans|raw }}
                                </h3>
                                <p class="col-lg-8 col-md-9 sub-header quiz text-primary m-0">
                                    {{ 'summary-answers-sub'|trans|raw }}
                                </p>
                        </div>
                    </div>
                </div>
                <div class="col-12 col-md-8 col-lg-6 text-box-won rounded-5 p-3 p-lg-4 shadow mt-3 mt-lg-0">
                    {% for question in allQuestions %}
                        {% set correctAnswerDescription = 'questions.question_' ~ question.id ~ '.correctAnswerDescription' %}
                        <div class="row d-flex justify-content-center p-3 {% if loop.last %}{% else %}border-bottom{% endif %} align-items-center">
                            <div class="col-12 col-lg-4">
                                <h3 class="fw-bold fs-5 text-primary text-center">{{ 'question'|trans }} {{ question.id }}</h3>
                            </div>
                            <div class="col-12 col-lg-8">
                                <p class="m-0 text-center text-lg-start">
                                    {{ correctAnswerDescription|trans|raw }}
                                </p>
                            </div>
                        </div>
                    {% endfor %}
                </div>
                <div class="col-12 col-lg-4 mt-4 mb-3 mb-lg-0 d-flex justify-content-center">
                    <a href="https://fr.delta.com/" class="btn-delta col-12 col-md-8 col-lg-4">{{ 'action-buttons.close'|trans|raw }}</a>
                </div>
            {% endif %}
        </div>
    </div>
    {% include "_partials/_footer.html.twig" %}
</body>
{% endblock %}

    



{# a partir de l√† ancien code #}

    {# <div class="container-fluid p-5 pt-0 text-center d-flex flex-column">
        
        <div class="d-flex flex-column justify-content-center">
            <div class="row d-flex justify-content-center">

                {% if app.request.attributes.get('_route') == 'app_won' %}

                    <div class="row first d-flex flex-column justify-content-center mt-5">
                        <h3 class="col-12 col-lg-9 text-primary text-center fw-bold" data-aos="zoom-in-down">
                            {{ 'winner-sentence'|trans|raw }}
                        </h3>
                        <p class="sub-header text-primary m-0">{{ 'winner-text'|trans|raw }}</p>
                    </div> #}
                    
                    
                

                {# {% elseif app.request.attributes.get('_route') == 'app_lost' %}

                    <div class="row first d-flex flex-column justify-content-center">
                        <h3 class="col-12 col-lg-9 text-primary text-center fw-bold" data-aos="zoom-in-down">
                            {{ 'non-winner-sentence'|trans|raw }}
                        </h3>
                        <p class="sub-header text-primary">{{ 'non-winner-sub'|trans|raw }}</p>
                    </div>
                    <div class="row d-flex justify-content-center">
                        <div class="col-12 col-md-9 col-lg-6 text-box fly_box d-flex flex-column justify-content-center align-items-center">
                            <p class="fs-3 p-4 fw-bold text-center text-primary m-0">
                                {{ 'non-winner-text'|trans|raw }}
                            </p>
                        </div>
                    </div>
                    <div class="col-12 mt-4 mt-lg-5 mb-5">
                        <a href="{{ path('app_answers') }}" class="btn-delta">{{ 'action-buttons.check-correct-answers'|trans|raw }}</a>
                    </div> #}

                {# {% elseif app.request.attributes.get('_route') == 'app_answers' %}

                    <div class="row first d-flex flex-column justify-content-center">
                        <h3 class="text-primary text-center fw-bold" data-aos="zoom-in-down">
                            {{ 'summary-answers'|trans|raw }}
                        </h3>
                        <p class="sub-header text-primary">{{ 'summary-answers-sub'|trans|raw }}</p>
                    </div>
                    <div class="col-12 col-md-9 col-lg-6 text-box-won rounded-5 p-4">
                        {% for question in allQuestions %}
                            {% set correctAnswerDescription = 'questions.question_' ~ question.id ~ '.correctAnswerDescription' %}
                            <div class="row p-3 {% if loop.last %}{% else %}border-bottom{% endif %} align-items-center">
                                <div class="col-12 col-lg-4">
                                    <h3 class="fw-bold fs-5 text-primary">{{ 'question'|trans }} {{ question.id }}</h3>
                                </div>
                                <div class="col-12 col-lg-8">
                                    <p class="m-0 text-center text-lg-start">
                                        {{ correctAnswerDescription|trans|raw }}
                                    </p>
                                </div>
                            </div>
                        {% endfor %}
                    </div>
                    <div class="col-12 mt-4 mt-lg-5 mb-5">
                        <a href="" class="btn-delta">{{ 'action-buttons.close'|trans|raw }}</a>
                    </div>
                {% endif %}
            </div>
        </div>
    </div> #}
    {# {% include "_partials/_footer.html.twig" %}
</body>
{% endblock %} #}
